# HTTP là gì?

<img src="http://sv1.upsieutoc.com/2017/05/11/13c309.png">

HTTP là một giao thức cấp độ ứng dụng cho các hệ thống thông tin phân phối, cộng tác, đa phương tiện. Đây là nền tảng cho giao tiếp dữ liệu cho WWW từ 1990. HTTP là một giao thức chung và stateless mà có thể được sử dụng cho các mục đích khác cũng như sự co giãn của các phương thức yêu cầu, các code lỗi và Header của nó.

Theo cơ bản, HTTP là một giao thức giao tiếp trên cơ sở TCP/IP, mà được sử dụng để phân phối dữ liệu, trên WWW,. Cổng mặc định là TCP 80, những các cổng khác cũng có thể được sử dụng. Nó cung cấp một cách được tiêu chuẩn hoá cho các máy tính để giao tiếp với nhau. Chi tiết kỹ thuật HTTP xác định cách mà dữ liệu yêu cầu của người dùng sẽ được xây dựng và gửi tới Server, và cách để Server phản hồi các yêu cầu này.

# Các đặc trưng cơ bản.

Có 3 đặc trưng cơ bản mà làm HTTP trở thành một giao thức đơn giản nhưng đầy sức mạnh:

**HTTP là giao thức connectionless (Kết nối không liên tục)**

**HTTP là một phương tiện độc lập.**

**HTTP là một stateless (Không được công nhận)**

# Cấu trúc cơ bản.

<img src="http://sv1.upsieutoc.com/2017/05/11/http.png">

Giao thức HTTP là một giao thức yêu cầu/Phản hồi dựa trên cấu trúc Client/Server, nơi mà các trình duyệt web, các thiết bị tìm kiếm,... hoạt động như các Client, và các Server web hoạt động như một Server.

# Các tham số trong HTTP.

Phiên bản HTTP: `HTTP-Version = "HTTP" "/" 1*DIGIT "." 1*DIGIT`

Ví dụ: `HTTP/1.0 or HTTP/1.1`

Uniform Resource Identifiers - Bộ nhận diện nguồn tài nguyên đồng nhất.

Cú pháp: `URI = "http:" "//" host [ ":" port ] [abs_path [ "?" query]]`

Các định dạng thời gian Ngày/Thời gian. 

```
Sun, 06 Now 1994 08:49:37 GMT ; RFC 822, updated by RFC 1123
```

Các bộ ký tự.

```
US-ASCII 
or
ISO-8859-1
or
ISO-8859-7
```

Mã hoá nội dung.

Một giá trị mã hoá nội dung chỉ rằng một thuật toán mã hoá đã được sử dụng để mã hoá nội dung trước khi truyền nó tới mạng. Mã hoá nội dung được sử dụng lần đầu để cho phép tài liệu để được nén hoặc ngoài ra được truyền tải mà không thất lạc sự nhập diện.

Tất cả các giá trị mã hoá nội dung không phân biệt kiểu chữ .HTTP/1.1 sử dụng giá trị mã hoá nội dung trong các trường Accept-Encoding và Content-Encoding Header.

Sơ đồ mã hoá hợp lệ:

```
Accept-encoding: gzip
or
Accept-encoding: compress
or
Accept-encoding: deflate
```

# Các kiểu đa phương tiện (media types)

HTTP sử dụng các kiểu phương tiện Internet trong các trường `Content-type` và `Accept` để cung cấp dữ liệu mở và có thể mở rộng.

Cú pháp: `media-type  = type "/" subtype *(";" parameter)`

Ví dụ `Accept: image/gif`

# Các thẻ ngôn ngữ.

HTTP sử dụng các thẻ ngôn ngữ trong các trường `Accpept` và `Content-Language`. Một thẻ ngôn ngữ bao gông nhiều phần: Một thể ngôn ngữ sơ cấp và một dãy các thẻ phụ:

`language-tag = primary-tag  *("-" subtag )`

Các thẻ ví dụ bao gồm:

`en,en-US, em-cockney, i-cherokee, x-pig-latin` Hai chữ `primary-tag` là một chữ viết tắt cho ngôn ngữ ISO-639 và hai ký tự đầu tiên trong thẻ phụ `subtag` là mã quốc gia.

# Message trong HTTP.

Yêu cầu từ Client tới Server và các Phản hồi từ Server tới Client mà sẽ theo định dạng sau:

`HTTP-message  = <Request> | <Response> ; HTTP/1.1 mesage`

Các yêu cầu HTTP và các phản hồi HTTP sử dụng một định dạng thông báo chung RFC 822 cho truyền trải dữ liệu được yêu cầu. Định dạng thông báo chung này bao gồm 4 mục:

```
Một dòng đầu tiên.
Không hoặc nhiều trường Header theo sau bởi CRLF
Một dòng trống, chỉ phần cuối của trường Header.
Một thân thông báo tuỳ ý.
```

## Dòng bắt đầu thông báo.

Cú pháp: `start-line = Request-Line | Startus-Line`

Ví dụ:

```
GET /hello.jsp HTTP/1.1 (Requesst-Line by the client)

HTTP/1.1 200 OK (Status-Line sent by Server)
```

## Các trường Header.

Các trường Header cung cấp thông tin được yêu cầu về yêu cầu hoặc phản hồi, hoặc về đối tượng được gửi trong thân báo cáo. Có 4 kiểu của Header trong thông báo HTTP:

<ul>
	<li>Kiểu chung (General-Header): Các trường Header này có khả năng ứng dụng chung cho các thông báo yêu cầu phản hồi.</li>
	<li>Kiểu phẩn hồi(Request-Header): Các trường Header này chỉ có khả năng áp dụng cho các thông báo yêu cầu.</li>
	<li>Kiểu phản hồi (Response-Header): Các trường này chỉ có khả năng áp dụng cho các thông báo phản hồi.</li>
	<li>Kiểu thự thể (Entity-Header): Các trường này các định thông tin về thân-thực thể hoặc, nếu không có phần thân nào hiển thị, về nguồn nhận diện bởi yêu cầu.</li>
</ul>

Tất cả các Header được để cập ở trên theo một định dạng chung và mỗi trường Header bao gồm một tên được theo sau bởi một dấu hai chấm (:) và giá trị các trường như sau:

`mesage-header = field-name ":" [field-value]`

Ví dụ:

```
User-Agent: curl/7.16.3 libcurl/7.16.3 OpenSSL/0.9.7l zlib/1.2.3
Host: www.example.com
Accept-Language: en, mi
Date: Mon, 27 Jul 2009 12:28:53 GMT
Server: Apache
Last-Modified: Wed, 22 Jul 2009 19:15:56 GMT
ETag: "34aa387-d-1568eb00"
Accept-Ranges: bytes
Content-Length: 51
Vary: Accept-Encoding
Content-Type: text/plain
```

# Yêu cầu (Request)  trong HTTP

Một client gửi một yêu cầu HTTP tới một server trong mẫu một thông báo yêu cầu mà bao gồm định dạng sau:

```
Một dòng yêu cầu

Không hoặc nhiều hơn trường Header được theo sau bởi CRLF.

Một dòng trống chỉ phần kết thúc của trường header.

Một phần thân thông báo tuỳ ý.
```

## Dòng yêu cầu.

`Request-Line = Method SP Request-URI SP HTTP-Version CRLF`

## Phương thức yêu cầu.

**GET** được sử dụng để lấy thông tin từ Server đã cung cấp bở sử dụng một URI đã cung cấp. Các yêu cầu sử dụng GET nên chỉ nhận dữ liệu và nên không có ảnh hưởng gì đến dữ liệu.

**HEAD** Tương tự GET, nhưng nó truyền tải dòng trạng thái và khu vực Header.

**POST** Một yêu cầu POST được sử dụng để gửi dữ liệu đến Server, Ví dụ: thông tin khách hàng, file tải lên,.., bởi sử dụng các mẫu HTML.

**PUT** Thay đổi tất cả các đại diện hiện tại của nguồn mục tiêu với nội dung được tải lên.

**DELETE**	Gỡ bỏ tất cả các đại diện hiện tại của nguồn mục tiêu bới URI.

**CONNECT** Thiết lập một tunnel tới Server được xác định bởi URI đã cung cấp.

**OPTIONS** Miêu tả các chức năng giao tiếp cho nguồn mục tiêu.

**TRACE** Trình bày một vòng lặp kiểm tra thông báo song song với path tới nguồn mục tiêu.






# Mã hoá trạng thái.

**1xx: Thông tin** Nó nghĩa là yêu cầu đã được nhận và tiên trình đang tiếp tục.

**2xx: Thành công.** Nó nghĩa là hoạt động đã được chấp nhận, được hiểu, và được chấp nhận một cách thành công.

**3xxx: Sự điều hướng lại** nó nghĩa là hoạt động phải được thực hiện để hoàn thành yêu cầu.

**4xxx: Lỗi Client** Nó nghĩa là yêu cầu chứa cú pháp không chính xác hoặc không được thực hiện.

**5xx: Lỗi server** Nó nghĩa là Server thất bại với việc thực hiện một yêu cầu nhìn như có vẽ khả thi.

## 1xx : Thông tin.

<img src="http://sv1.upsieutoc.com/2017/05/11/thongtin.png">

## 2xx Thành công

<img src="http://sv1.upsieutoc.com/2017/05/11/2xx.png">

## 3xx: Sự điều hướng lại

<img src="http://sv1.upsieutoc.com/2017/05/11/3xx.png">

## 4xx Lỗi Client

<img src="http://sv1.upsieutoc.com/2017/05/11/4xx.png">
<img src="http://sv1.upsieutoc.com/2017/05/11/41.png">
<img src="http://sv1.upsieutoc.com/2017/05/11/42.png">

## 5xx: Lỗi Server

<img src="http://sv1.upsieutoc.com/2017/05/11/5xx.png">
